# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: |
      echo "Installing Python dependencies"
      pip3 install -r requirements.txt
      echo "Adding Bazel distribution URI as a package source"
      sudo apt -y install apt-transport-https curl gnupg
      curl -fsSL https://bazel.build/bazel-release.pub.gpg | gpg --dearmor > bazel.gpg
      sudo mv bazel.gpg /etc/apt/trusted.gpg.d/
      echo "deb [arch=amd64] https://storage.googleapis.com/bazel-apt stable jdk1.8" | sudo tee /etc/apt/sources.list.d/bazel.list
      echo "Installing and updating Bazel"
      sudo apt -y update
      sudo apt -y install bazel
      sudo apt -y install bazel-4.2.2
      echo "Done."
